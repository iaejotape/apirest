@baseUrl = http://localhost:3000
@token = SEU_TOKEN_AQUI

### ---------------------------------------------------------
### 1. AUTENTICAÇÃO (CADASTRO E LOGIN)
### ---------------------------------------------------------

### Cadastro - Usuário Admin (Fulano)
POST {{baseUrl}}/cadastro
Content-Type: application/json

{
  "name": "Fulano Admin",
  "email": "fulano.admin@email.com",
  "password": "12345678",
  "isAdmin": true
}

### Cadastro - Usuário Comum (Alice)
POST {{baseUrl}}/cadastro
Content-Type: application/json

{
  "name": "Alice Comum",
  "email": "alice@email.com",
  "password": "12345678",
  "isAdmin": false
}

### Cadastro - Teste de E-mail Duplicado (Erro esperado)
POST {{baseUrl}}/cadastro
Content-Type: application/json

{
  "name": "Alice Clone",
  "email": "alice@email.com",
  "password": "12345678",
  "isAdmin": false
}

### Login - Sucesso (Pegar o token gerado aqui e colocar na variável @token lá em cima)
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "fulano.admin@email.com",
  "password": "12345678"
}

### Login - Senha Incorreta (Erro esperado)
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "alice@email.com",
  "password": "senha_errada"
}

### ---------------------------------------------------------
### 2. GERENCIAMENTO DE USUÁRIOS (ROTAS PROTEGIDAS)
### ---------------------------------------------------------

### Listar usuários - Token Correto
GET {{baseUrl}}/listarUsuarios
Authorization: Bearer {{token}}

### Atualizar usuário
POST {{baseUrl}}/atualizarUsuario
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "id": 1,
  "name": "Usuario Atualizado",
  "email": "usuario.atualizado@email.com"
}

### Promover usuário a Admin
POST {{baseUrl}}/promoverUsuario
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "id": 2
}

### Deletar usuário
POST {{baseUrl}}/deletarUsuario
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "id": 1
}

### ---------------------------------------------------------
### 3. TESTES DE SEGURANÇA E ERROS (DEBUG)
### ---------------------------------------------------------

### Listar usuários - Tipo errado de token (Basic)
GET {{baseUrl}}/listarUsuarios
Authorization: Basic {{token}}

### Listar usuários - Token inválido/adulterado
GET {{baseUrl}}/listarUsuarios
Authorization: Bearer xxxhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjIsImlzQWRtaW4iOnRydWUsImlhdCI6MTc2MjM2NzI1OSwiZXhwIjoxNzYyMzc0NDU5fQ.aP_kgoxG6KQtnhpE9OJFac9jGW5_vrXZabNPeBCJ37o

### Listar usuários - Sem header Authorization
GET {{baseUrl}}/listarUsuarios

### Listar usuários - Header enviado mas sem token
GET {{baseUrl}}/listarUsuarios
Authorization: Bearer 

### Atualizar usuário - Sem token (Erro esperado)
POST {{baseUrl}}/atualizarUsuario
Content-Type: application/json

{
  "id": 1,
  "name": "Tentativa Hacker"
}

### Promover usuário - Token sem permissão de admin (Erro esperado)
# (Para testar isso, faça login com a Alice e use o token dela)
POST {{baseUrl}}/promoverUsuario
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "id": 2
}
